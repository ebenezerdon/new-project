<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gratitude Journal - Streaks & Prompts</title>
  <meta name="description" content="A beautiful gratitude journal with streak tracking and reflection prompts.">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles/main.css">
</head>
<body class="bg-surface text-gray-900 antialiased">
  <header class="max-w-6xl mx-auto px-4 py-6">
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-4">
        <div class="w-12 h-12 rounded-lg bg-gradient-to-br from-emerald-400 to-teal-500 flex items-center justify-center shadow-md">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 3c1.657 0 3 1.343 3 3 0 .893-.39 1.692-1 2.25C14.61 9.308 15 10.107 15 11c0 2.761-2.239 5-5 5s-5-2.239-5-5c0-.893.39-1.692 1-2.25C6.39 7.692 6 6.893 6 6c0-1.657 1.343-3 3-3h3z" fill="white" />
            <path d="M12 14c3.866 0 7 3.134 7 7H5c0-3.866 3.134-7 7-7z" fill="white" opacity="0.9" />
          </svg>
        </div>
        <div>
          <h1 class="text-2xl font-semibold">Gratitude Journal</h1>
          <p class="text-sm text-muted">Daily notes, gentle prompts, and streak tracking</p>
        </div>
      </div>
      <nav aria-label="primary" class="flex items-center gap-3">
        <button id="btn-help" class="btn-secondary" aria-label="Help">Help</button>
        <button id="btn-reset" class="btn-danger" aria-label="Reset journal">Reset</button>
      </nav>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 pb-12">
    <section class="grid gap-6 grid-cols-1 md:grid-cols-3">
      <!-- Left: Entry input and prompt card -->
      <aside class="md:col-span-2">
        <div class="card">
          <div class="flex items-start gap-4">
            <div class="streak-card" aria-hidden="true">
              <div id="streak-ring" class="ring-visual" title="Current streak"></div>
            </div>
            <div class="flex-1">
              <div class="flex items-baseline justify-between">
                <div>
                  <div id="today-label" class="text-sm text-muted">Today</div>
                  <div id="today-date" class="text-lg font-semibold">Loading...</div>
                </div>
                <div class="text-right">
                  <div class="text-xs text-muted">Current streak</div>
                  <div id="streak-count" class="text-2xl font-bold">0</div>
                </div>
              </div>

              <form id="entry-form" class="mt-4" aria-label="Add gratitude entry">
                <label for="prompt" class="text-sm font-medium">Prompt</label>
                <div class="mt-2 flex gap-2 items-start">
                  <textarea id="prompt" class="input-area flex-1" rows="3" aria-label="Reflection prompt" readonly></textarea>
                  <div class="flex flex-col gap-2">
                    <button type="button" id="btn-new-prompt" class="btn-ghost" aria-label="New prompt">New</button>
                    <button type="button" id="btn-copy-prompt" class="btn-ghost" aria-label="Copy prompt">Copy</button>
                  </div>
                </div>

                <label for="entry" class="text-sm font-medium mt-4">Your gratitude</label>
                <textarea id="entry" class="input-area mt-2" rows="4" placeholder="Write one to three things you are grateful for today" aria-required="true"></textarea>

                <div class="mt-4 flex items-center gap-3">
                  <button id="btn-save" type="submit" class="btn-primary" aria-label="Save entry">Save</button>
                  <button id="btn-quick" type="button" class="btn-outline" aria-label="Quick add">Quick add</button>
                  <button id="btn-skip" type="button" class="btn-ghost" aria-label="Skip today">Skip</button>
                </div>

                <div id="form-feedback" role="status" aria-live="polite" class="mt-3 text-sm text-muted"></div>
              </form>
            </div>
          </div>
        </div>

        <div id="recent-card" class="card mt-6">
          <div class="flex items-center justify-between">
            <h2 class="text-lg font-semibold">Recent entries</h2>
            <div class="text-sm text-muted">Click an entry to edit or delete</div>
          </div>
          <div id="entries-list" class="mt-4 space-y-3" aria-live="polite"></div>
        </div>
      </aside>

      <!-- Right: Stats and filters -->
      <aside class="md:col-span-1">
        <div class="card">
          <h3 class="font-semibold">Streak insights</h3>
          <div class="mt-3 grid grid-cols-2 gap-3">
            <div class="stat">
              <div class="stat-value" id="total-days">0</div>
              <div class="stat-label">Total days</div>
            </div>
            <div class="stat">
              <div class="stat-value" id="longest-streak">0</div>
              <div class="stat-label">Longest streak</div>
            </div>
          </div>

          <div class="mt-5">
            <label for="filter" class="text-sm font-medium">Filter</label>
            <select id="filter" class="mt-2 select" aria-label="Filter entries">
              <option value="all">All entries</option>
              <option value="last7">Last 7 days</option>
              <option value="last30">Last 30 days</option>
            </select>
          </div>
        </div>

        <div class="card mt-4">
          <h3 class="font-semibold">Reflection prompt bank</h3>
          <div id="prompt-bank" class="mt-3 space-y-2 text-sm text-muted"></div>
        </div>

        <div class="card mt-4">
          <h3 class="font-semibold">Accessibility</h3>
          <div class="mt-2 text-sm text-muted">Keyboard: Ctrl+Enter to save. Alt+P for new prompt. Your progress is saved locally.</div>
        </div>
      </aside>
    </section>
  </main>

  <footer class="max-w-6xl mx-auto px-4 py-6 text-center text-sm text-muted">
    Built with care. Persisted locally in your browser. UI built by <a href="https://teda.dev" class="text-emerald-600 hover:underline">Teda.dev</a>.
  </footer>

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="scripts/helpers.js"></script>
  <script src="scripts/ui.js"></script>
  <script src="scripts/main.js"></script>
</body>
</html>
